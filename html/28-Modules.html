<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<link rel="stylesheet" href="style.css">
</head>
<body class='typora-export os-windows' >
<div  id='write'  class = 'is-node'>
<!-- Navigation -->
<hr />
<p><a href="./27-Inheritance%20and%20Polymorphism.html">Previous: 27-Inheritance and Polymorphism</a> | <a href="./00-Table%20of%20Contents.html">Table of Contents</a> | <a href="./29-Comments%20and%20Code%20Documentation.html">Next: 29-Comments and Code Documentation</a></p>
<hr />
<!-- End Navigation -->
<h1 id="modules">28 - Modules</h1>
<p>In this section we will explore how to connect python files together and make them work together. Also included in this section is an opportunity to get used to using classes and do more object oriented programming. Each file in Python is sometimes called a module. A module is simply a python file you can import and use its contents. You used some of the standard modules or libraries in <a href="./23-Imports.html">the section about imports</a>.</p>
<p>In this section we will begin learning how to build our own packages or libraries by connecting two modules together. In a later section, we will take what we accomplish here and make a complete (albeit simple) package that could be made into a distributable software. These will also be used in the next section so <strong>make sure you save these files for later</strong>.</p>
<h3 id="the-email-database-manager">The Email Database Manager</h3>
<p>The following are two files that you must reproduce exactly as we have been doing. However, these files contain skeletons of a project you must complete using all you have learned so far. Take your time and get this project working as well as you possibly can. As always, the more you put into this the more you will get out of the experience. More specific information about the files is given below. Many of the same principles from your first project apply here.</p>
<h4 id="the-database-manager-file">The Database Manager File</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># database_manager.py</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="im">import</span> json</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw">class</span> DatabaseManager():</span>
<span id="cb1-6"><a href="#cb1-6"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">    Manages all aspects of the database including how and where data are stored.</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">    This database is contact list consisting of a collection of names with</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">    corresponding phone numbers and email addresses. This may be implimented as a</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">    dictionary (which sorts the list automatically) or a list. The exact structure </span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">    of the database is up to you but it might be a good idea to find out how others</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">    have done such a thing and impliment it yourself.</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, filename):</span>
<span id="cb1-15"><a href="#cb1-15"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">        Loads the database based on the passed in filename. The database should</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">        come from a .json file and be stored in the class as a dictionary. This</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">        should call self.load_database() as its last step.</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-20"><a href="#cb1-20"></a>        <span class="cf">pass</span></span>
<span id="cb1-21"><a href="#cb1-21"></a>        </span>
<span id="cb1-22"><a href="#cb1-22"></a></span>
<span id="cb1-23"><a href="#cb1-23"></a>    <span class="kw">def</span> load_database(<span class="va">self</span>):</span>
<span id="cb1-24"><a href="#cb1-24"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">        Loads the database from a .json file using Python&#39;s built in json </span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co">        package. If the filename does not exist it should make an empty database</span></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co">        and call self.save_database() to write the new database.</span></span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-29"><a href="#cb1-29"></a>        <span class="cf">pass</span></span>
<span id="cb1-30"><a href="#cb1-30"></a>        </span>
<span id="cb1-31"><a href="#cb1-31"></a>    </span>
<span id="cb1-32"><a href="#cb1-32"></a>    <span class="kw">def</span> save_database(<span class="va">self</span>):</span>
<span id="cb1-33"><a href="#cb1-33"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="co">        Saves the database to a .json file using Python&#39;s built-in json package.</span></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="co">        This should be called any time the database is altered.</span></span>
<span id="cb1-36"><a href="#cb1-36"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-37"><a href="#cb1-37"></a>        <span class="cf">pass</span></span>
<span id="cb1-38"><a href="#cb1-38"></a>        </span>
<span id="cb1-39"><a href="#cb1-39"></a>    </span>
<span id="cb1-40"><a href="#cb1-40"></a>    <span class="kw">def</span> add_item(<span class="va">self</span>, entry):</span>
<span id="cb1-41"><a href="#cb1-41"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-42"><a href="#cb1-42"></a><span class="co">        Adds and organizes an &#39;entry&#39; consisting of an name, phone number and </span></span>
<span id="cb1-43"><a href="#cb1-43"></a><span class="co">        email to the database it then saves the database.</span></span>
<span id="cb1-44"><a href="#cb1-44"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-45"><a href="#cb1-45"></a>        <span class="cf">pass</span></span>
<span id="cb1-46"><a href="#cb1-46"></a>        </span>
<span id="cb1-47"><a href="#cb1-47"></a>    </span>
<span id="cb1-48"><a href="#cb1-48"></a>    <span class="kw">def</span> remove_item(<span class="va">self</span>, name):</span>
<span id="cb1-49"><a href="#cb1-49"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-50"><a href="#cb1-50"></a><span class="co">        Removes an entry with ID &#39;name&#39; from the database and then saves </span></span>
<span id="cb1-51"><a href="#cb1-51"></a><span class="co">        the database.</span></span>
<span id="cb1-52"><a href="#cb1-52"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-53"><a href="#cb1-53"></a>        <span class="cf">pass</span></span>
<span id="cb1-54"><a href="#cb1-54"></a>    </span>
<span id="cb1-55"><a href="#cb1-55"></a></span>
<span id="cb1-56"><a href="#cb1-56"></a>    <span class="kw">def</span> get_database(<span class="va">self</span>):</span>
<span id="cb1-57"><a href="#cb1-57"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-58"><a href="#cb1-58"></a><span class="co">        Returns a reference or a copy of the database in some form to be </span></span>
<span id="cb1-59"><a href="#cb1-59"></a><span class="co">        used elsewhere.</span></span>
<span id="cb1-60"><a href="#cb1-60"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-61"><a href="#cb1-61"></a>        <span class="cf">pass</span></span>
<span id="cb1-62"><a href="#cb1-62"></a></span>
<span id="cb1-63"><a href="#cb1-63"></a></span>
<span id="cb1-64"><a href="#cb1-64"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb1-65"><a href="#cb1-65"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-66"><a href="#cb1-66"></a><span class="co">        Returns a string representation of the database. With this, the database</span></span>
<span id="cb1-67"><a href="#cb1-67"></a><span class="co">        may be printed or otherwise represented.</span></span>
<span id="cb1-68"><a href="#cb1-68"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb1-69"><a href="#cb1-69"></a>        <span class="cf">pass</span></span>
<span id="cb1-70"><a href="#cb1-70"></a>   </span>
<span id="cb1-71"><a href="#cb1-71"></a></span>
<span id="cb1-72"><a href="#cb1-72"></a></span>
<span id="cb1-73"><a href="#cb1-73"></a><span class="kw">def</span> test_dbman():</span>
<span id="cb1-74"><a href="#cb1-74"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-75"><a href="#cb1-75"></a><span class="co">    A test function to ensure the database class performed as expected</span></span>
<span id="cb1-76"><a href="#cb1-76"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb1-77"><a href="#cb1-77"></a>    <span class="cf">pass</span></span>
<span id="cb1-78"><a href="#cb1-78"></a></span>
<span id="cb1-79"><a href="#cb1-79"></a></span>
<span id="cb1-80"><a href="#cb1-80"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb1-81"><a href="#cb1-81"></a>    test_dbman()</span></code></pre></div>
<p>This file implements a class that will manage the database. The user interface class must have a reference to an instance of this class in the form of a class variable inside the <code>UserInterface</code> object (i.e. <code>self.dbman</code>) so that it can access all its methods. For this exercise you may use any format you wish. However, for this simple example I recommend using JavaScript Object Notation or JSON. I recommend this because Python has an excellent JSON library for storing data and JSON conveniently translates to common python objects such as dictionaries, lists, strings etc. You can learn how to use both the load and save features by looking at the corresponding Python documentation <a href="https://docs.python.org/3/library/json.html#basic-usage">here</a> and reading about <code>json.load()</code> and <code>json.dump()</code>. The documentation strings under each label explain what should be implemented. Feel free to use your own creativity and what you have learned to implement this class. Finally, do not hesitate to add any methods or make changes to names as you see fit. The <code>test_dbman()</code> function is there to allow you to test the class by itself before using it in the user interface.</p>
<h4 id="the-user-interface-file">The User Interface File</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># user_interface.py</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">from</span> database_manager <span class="im">import</span> DatabaseManager</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw">class</span> UserInterface():</span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">    Allows the user to access and use the features of the database without </span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">    having to know how to program.</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">    The user should be allowed to do a few basic things:</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">     - view the database</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">     - add an entry to the database</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="co">     - remove an entry from the database</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">     - export the database to a human-readable text file</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">     - exit the program</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="co">    </span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co">    Provided the user can do these thing easily and reliably, the program is</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co">    successful.</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>    </span>
<span id="cb2-20"><a href="#cb2-20"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, dbman):</span>
<span id="cb2-21"><a href="#cb2-21"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="co">        sets up the UI and sets the self.dbman = dbman so the database may be</span></span>
<span id="cb2-23"><a href="#cb2-23"></a><span class="co">        accessed.</span></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb2-25"><a href="#cb2-25"></a>        <span class="cf">pass</span></span>
<span id="cb2-26"><a href="#cb2-26"></a></span>
<span id="cb2-27"><a href="#cb2-27"></a></span>
<span id="cb2-28"><a href="#cb2-28"></a>    <span class="kw">def</span> mainloop(<span class="va">self</span>):</span>
<span id="cb2-29"><a href="#cb2-29"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-30"><a href="#cb2-30"></a><span class="co">        Runs the mainloop of the program. This should include the following</span></span>
<span id="cb2-31"><a href="#cb2-31"></a><span class="co">        steps:</span></span>
<span id="cb2-32"><a href="#cb2-32"></a><span class="co">            1 - display information</span></span>
<span id="cb2-33"><a href="#cb2-33"></a><span class="co">            2 - prompt the user for input</span></span>
<span id="cb2-34"><a href="#cb2-34"></a><span class="co">            3 - process the input to get new information to display</span></span>
<span id="cb2-35"><a href="#cb2-35"></a><span class="co">            </span></span>
<span id="cb2-36"><a href="#cb2-36"></a><span class="co">        This also must exit the program when the user commands.</span></span>
<span id="cb2-37"><a href="#cb2-37"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb2-38"><a href="#cb2-38"></a>        <span class="cf">pass</span></span>
<span id="cb2-39"><a href="#cb2-39"></a>         </span>
<span id="cb2-40"><a href="#cb2-40"></a>         </span>
<span id="cb2-41"><a href="#cb2-41"></a>    <span class="kw">def</span> display(<span class="va">self</span>):</span>
<span id="cb2-42"><a href="#cb2-42"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-43"><a href="#cb2-43"></a><span class="co">        gets and displays information as given by the self.execute function.</span></span>
<span id="cb2-44"><a href="#cb2-44"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb2-45"><a href="#cb2-45"></a>        <span class="cf">pass</span></span>
<span id="cb2-46"><a href="#cb2-46"></a>        </span>
<span id="cb2-47"><a href="#cb2-47"></a>        </span>
<span id="cb2-48"><a href="#cb2-48"></a>    <span class="kw">def</span> get_input(<span class="va">self</span>):</span>
<span id="cb2-49"><a href="#cb2-49"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-50"><a href="#cb2-50"></a><span class="co">        Accepts user input by calling the built-in input() function</span></span>
<span id="cb2-51"><a href="#cb2-51"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb2-52"><a href="#cb2-52"></a>        <span class="cf">pass</span></span>
<span id="cb2-53"><a href="#cb2-53"></a>    </span>
<span id="cb2-54"><a href="#cb2-54"></a>    </span>
<span id="cb2-55"><a href="#cb2-55"></a>    <span class="kw">def</span> execute(<span class="va">self</span>):</span>
<span id="cb2-56"><a href="#cb2-56"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-57"><a href="#cb2-57"></a><span class="co">        Uses the information form user input to execute the program including</span></span>
<span id="cb2-58"><a href="#cb2-58"></a><span class="co">        accessing self.dbman to use database commands.</span></span>
<span id="cb2-59"><a href="#cb2-59"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb2-60"><a href="#cb2-60"></a>        <span class="cf">pass</span></span>
<span id="cb2-61"><a href="#cb2-61"></a>        </span>
<span id="cb2-62"><a href="#cb2-62"></a></span>
<span id="cb2-63"><a href="#cb2-63"></a>    <span class="kw">def</span> export(<span class="va">self</span>, filename):</span>
<span id="cb2-64"><a href="#cb2-64"></a>        <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-65"><a href="#cb2-65"></a><span class="co">        Writes the database to a file pointed to by the variable &#39;filename&#39;.</span></span>
<span id="cb2-66"><a href="#cb2-66"></a><span class="co">        May use a string representation of the database.</span></span>
<span id="cb2-67"><a href="#cb2-67"></a><span class="co">        &quot;&quot;&quot;</span></span>
<span id="cb2-68"><a href="#cb2-68"></a>        <span class="cf">pass</span>   </span>
<span id="cb2-69"><a href="#cb2-69"></a>        </span>
<span id="cb2-70"><a href="#cb2-70"></a>            </span>
<span id="cb2-71"><a href="#cb2-71"></a><span class="kw">def</span> run_ui_test():</span>
<span id="cb2-72"><a href="#cb2-72"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-73"><a href="#cb2-73"></a><span class="co">    This runs a UI test if we run it</span></span>
<span id="cb2-74"><a href="#cb2-74"></a><span class="co">    as the main Python program</span></span>
<span id="cb2-75"><a href="#cb2-75"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb2-76"><a href="#cb2-76"></a>    db_manager <span class="op">=</span> DatabaseManager(<span class="st">&#39;data.json&#39;</span>)</span>
<span id="cb2-77"><a href="#cb2-77"></a>    ui <span class="op">=</span> UserInterface(db_manager)</span>
<span id="cb2-78"><a href="#cb2-78"></a>    ui.mainloop()</span>
<span id="cb2-79"><a href="#cb2-79"></a></span>
<span id="cb2-80"><a href="#cb2-80"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb2-81"><a href="#cb2-81"></a>    run_ui_test()</span></code></pre></div>
<p>This file uses the <code>DatabaseManager</code> class to access the JSON files in a simple way. The user interface should contain a main-loop structure explained in the <a href="./25-Do%20a%20Project.html">Do a Project</a> section. Try to make the user interface as intuitive and easy to use as possible. Again, the documentation strings under each label explain what should be implemented. Also as above, use your own creativity and what you have learned and add any methods or changes as you see fit. The <code>run_ui_test()</code> function is there to initiate the program.</p>
<h2 id="hone-your-skills">Hone Your Skills</h2>
<p>Once you have finished the main objective of this exercise you should have a working database program. Modify the program in the following ways:</p>
<ul>
<li><p>Add user interface features to always display the database on screen or only display it when it makes sense.</p></li>
<li><p>Add error messages and make helpful info be printed out when the user gives bad input.</p></li>
<li><p>Add home and work versions of emails and phone numbers so that multiple emails and phone numbers may be assigned to one person.</p></li>
<li><p>Add options to the UI to allow different formats to be exported.</p></li>
<li><p>Make a new type of database and implement it with your existing user interface. For example, this could be a car database using code from the previous sections.</p></li>
</ul>
<h2 id="advanced-mastery">Advanced Mastery</h2>
<ul>
<li>Look up the <code>curses</code> module in Python and use it to make a more advanced and easy-to-use user interface in the CLI.</li>
<li>Look up <code>python tkinter</code> and begin learning how to build a non-CLI user interface. Use what you have learned to make a better UI for the database.</li>
</ul>
<!-- Navigation -->
<hr />
<p><a href="./27-Inheritance%20and%20Polymorphism.html">Previous: 27-Inheritance and Polymorphism</a> | <a href="./00-Table%20of%20Contents.html">Table of Contents</a> | <a href="./29-Comments%20and%20Code%20Documentation.html">Next: 29-Comments and Code Documentation</a></p>
<hr />
<!-- End Navigation -->

</body>
</html>
