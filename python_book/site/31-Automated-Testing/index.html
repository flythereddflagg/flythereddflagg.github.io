



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>31. Automated Testing - The Redd Python Book</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CSource+Code+Pro&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#31-automated-testing" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="The Redd Python Book" aria-label="The Redd Python Book" class="md-header-nav__button md-logo">
          
            <i class="md-icon">home</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              The Redd Python Book
            </span>
            <span class="md-header-nav__topic">
              
                31. Automated Testing
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="The Redd Python Book" class="md-nav__button md-logo">
      
        <i class="md-icon">home</i>
      
    </a>
    The Redd Python Book
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../00-Table-of-Contents/" title="Table of Contents" class="md-nav__link">
      Table of Contents
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../01-Intro-and-How-to-Use-This-Book/" title="1. Intro and How to Use This Book" class="md-nav__link">
      1. Intro and How to Use This Book
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../02-Getting-Started/" title="2. Getting Started" class="md-nav__link">
      2. Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../03-CLI/" title="3. CLI" class="md-nav__link">
      3. CLI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../04-Hello-World/" title="4. Hello World" class="md-nav__link">
      4. Hello World
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../05-Comments/" title="5. Comments" class="md-nav__link">
      5. Comments
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../06-Strings-and-the-Print-Function/" title="6. Strings and the Print Function" class="md-nav__link">
      6. Strings and the Print Function
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../07-Escape-Characters/" title="7. Escape Characters" class="md-nav__link">
      7. Escape Characters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../08-Formatted-Strings/" title="8. Formatted Strings" class="md-nav__link">
      8. Formatted Strings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../09-Variables-and-Memory/" title="9. Variables and Memory" class="md-nav__link">
      9. Variables and Memory
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../10-Better-String-Formatting/" title="10. Better String Formatting" class="md-nav__link">
      10. Better String Formatting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../11-Input-and-Output/" title="11. Input and Output" class="md-nav__link">
      11. Input and Output
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../12-Math-and-Data/" title="12. Math and Data" class="md-nav__link">
      12. Math and Data
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../13-Logic-and-Boolean-Operators/" title="13. Logic and Boolean Operators" class="md-nav__link">
      13. Logic and Boolean Operators
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../14-If-elif-and-else/" title="14. If elif and else" class="md-nav__link">
      14. If elif and else
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../15-Errors-Exceptions-and-Bugs/" title="15. Errors Exceptions and Bugs" class="md-nav__link">
      15. Errors Exceptions and Bugs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../16-File-Reading-and-Writing/" title="16. File Reading and Writing" class="md-nav__link">
      16. File Reading and Writing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../17-Loops/" title="17. Loops" class="md-nav__link">
      17. Loops
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../18-Iterables/" title="18. Iterables" class="md-nav__link">
      18. Iterables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../19-Dictionaries/" title="19. Dictionaries" class="md-nav__link">
      19. Dictionaries
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../20-Functions/" title="20. Functions" class="md-nav__link">
      20. Functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../21-More-Functions/" title="21. More Functions" class="md-nav__link">
      21. More Functions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../22-Try-Except/" title="22. Try Except" class="md-nav__link">
      22. Try Except
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../23-Imports/" title="23. Imports" class="md-nav__link">
      23. Imports
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../24-Reading-Code/" title="24. Reading Code" class="md-nav__link">
      24. Reading Code
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../25-Do-a-Project/" title="25. Do a Project" class="md-nav__link">
      25. Do a Project
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../26-Objects-and-Classes/" title="26. Objects and Classes" class="md-nav__link">
      26. Objects and Classes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../27-Inheritance-and-Polymorphism/" title="27. Inheritance and Polymorphism" class="md-nav__link">
      27. Inheritance and Polymorphism
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../28-Modules/" title="28. Modules" class="md-nav__link">
      28. Modules
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../29-Comments-and-Code-Documentation/" title="29. Comments and Code Documentation" class="md-nav__link">
      29. Comments and Code Documentation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../30-Packages-and-Project-Structure/" title="30. Packages and Project Structure" class="md-nav__link">
      30. Packages and Project Structure
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        31. Automated Testing
      </label>
    
    <a href="./" title="31. Automated Testing" class="md-nav__link md-nav__link--active">
      31. Automated Testing
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#test-driven-development" class="md-nav__link">
    Test-Driven Development
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-nose" class="md-nav__link">
    About nose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-assert-statement" class="md-nav__link">
    The assert statement
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-nose2" class="md-nav__link">
    Install nose2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-your-tests" class="md-nav__link">
    Make your tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-nose2" class="md-nav__link">
    Run nose2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-assignment" class="md-nav__link">
    Your Assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hone-your-skills" class="md-nav__link">
    Hone Your Skills
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-mastery" class="md-nav__link">
    Advanced Mastery
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../32-Do-Another-Project/" title="32. Do Another Project" class="md-nav__link">
      32. Do Another Project
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../33-Branching-Out/" title="33. Branching Out" class="md-nav__link">
      33. Branching Out
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#test-driven-development" class="md-nav__link">
    Test-Driven Development
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-nose" class="md-nav__link">
    About nose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-assert-statement" class="md-nav__link">
    The assert statement
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-nose2" class="md-nav__link">
    Install nose2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-your-tests" class="md-nav__link">
    Make your tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-nose2" class="md-nav__link">
    Run nose2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-assignment" class="md-nav__link">
    Your Assignment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hone-your-skills" class="md-nav__link">
    Hone Your Skills
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-mastery" class="md-nav__link">
    Advanced Mastery
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <!-- Navigation -->

<hr />
<p><a href="../30-Packages-and-Project-Structure/">Previous: 30-Packages-and-Project-Structure</a> | <a href="../00-Table-of-Contents/">Table of Contents</a> | <a href="../32-Do-Another-Project/">Next: 32-Do-Another-Project</a></p>
<hr />
<!-- End Navigation -->

<h1 id="31-automated-testing">31 - Automated Testing</h1>
<p>In some sense, the job of a programmer is to get a computer automatically do a task that someone else would have to do. The best programmers automate everything they can, including programming itself where possible. This section in particular will help you automate what can be one of the most necessary and evil necessary evils of programming. Testing your programs.</p>
<h3 id="test-driven-development">Test-Driven Development</h3>
<p>I have mentioned before that taking some time to plan your project will make the process of programming easier. One way to do this is to make programs that test whether your program performs as expected. Do this before you even write one line of code for your project. This forces you to ask important questions about your program such as: What do I want my program to actually do? How well does it have to do it? What things will cause the code to crash?</p>
<p>The programmer does not need to answer all these questions before beginning but it is helpful to have some basic tests ready before beginning a project. More tests can be added as the project progresses. However as you add many tests you will want to automate that part of the process as well. To do this we have a powerful tool called <code>nose</code>.</p>
<h3 id="about-nose">About <code>nose</code></h3>
<p>At the time of writing, the original <code>nose</code> package has been replaced by <code>nose2</code> which will be maintained for the foreseeable future and has more features than the original <code>nose</code>. Therefore, this section will be an introduction on how to use <code>nose2</code> instead of <code>nose</code>. However, <code>nose</code> and <code>nose2</code> are hardly the only packages that can do automated testing. The <code>nose2</code> package is relatively easy to use and has plenty of features. For these reasons I have elected to use it to demonstrate automated testing techniques. Below I have included an exercise to allow the reader to try a few different automated testing packages.</p>
<p><code>nose2</code> works by being called in your project's root directory and searching for folders and files with names beginning with 'test'. It then runs all functions with names beginning with 'test'. If no errors occur then it gives them a pass. It then reports back what passed and what failed. The general failure conditions are 'E' for error and 'F' for assertion error. The <code>assert</code> statement is the way an assertion error is raised.</p>
<h3 id="the-assert-statement">The <code>assert</code> statement</h3>
<p>Open up an interactive Python prompt and practice with the <code>assert</code> statement.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="err">$</span> <span class="n">python</span>
<span class="n">Python</span> <span class="mf">3.</span><span class="n">X</span><span class="o">.</span><span class="n">X</span> <span class="o">...</span>
<span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="mi">1</span><span class="o">==</span><span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="mi">1</span><span class="o">==</span><span class="mi">0</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">AssertionError</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="mi">1</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Those numbers are not equal!&quot;</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="n">Those</span> <span class="n">numbers</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">equal</span><span class="err">!</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="mi">1</span> <span class="ow">is</span> <span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="s2">&quot;k&quot;</span> <span class="ow">is</span> <span class="s2">&quot;k&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;x is not y!&quot;</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">y</span><span class="err">!</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>
</td></tr></table>

<p>From this you should quickly gather that the assert statement checks the Boolean truth value of the expression after it and then does nothing if it is true and raises an <code>AssertionError</code> if it is false. If a string message is included by separated commas then it will print that message out with the <code>AssertionError</code>. Many automated testing packages use this feature to test packages. Use this as much as you can. It will help you code more efficiently and effectively.</p>
<h3 id="install-nose2">Install <code>nose2</code></h3>
<p>Go to your terminal and install <code>nose2</code> using <code>pip</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ pip install nose2 --user
</code></pre></div>
</td></tr></table>

<p>Remember that to install Python packages with <code>pip</code> it is best to just use the <code>--user</code> option to avoid permission errors that can occur on operating systems.</p>
<h3 id="make-your-tests">Make your tests</h3>
<p>Put the following file in the <code>tests</code> directory of your project. Write out the following tests:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1"># tests/test_general.py</span>
<span class="kn">from</span> <span class="nn">emails.database_manager</span> <span class="kn">import</span> <span class="n">DatabaseManager</span>
<span class="kn">from</span> <span class="nn">emails.user_interface</span> <span class="kn">import</span> <span class="n">UserInterface</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="k">def</span> <span class="nf">test_dbman</span><span class="p">():</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;data.json&#39;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;./joe manyouare&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="mi">29382984</span><span class="p">,</span> <span class="s2">&quot;coolguy@glasdkfj.com&quot;</span><span class="p">]</span>

    <span class="n">dbman</span> <span class="o">=</span> <span class="n">DatabaseManager</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>  
    <span class="n">dbman</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">dbman</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">(),</span> <span class="s2">&quot;Name not added!&quot;</span>

    <span class="n">dbman</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">assert</span> <span class="ow">not</span><span class="p">(</span><span class="n">name</span> <span class="ow">in</span> <span class="n">dbman</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">())</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="c1"># clean up the file afterward</span>


<span class="k">def</span> <span class="nf">test_ui_export</span><span class="p">():</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;data.json&#39;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;joe manyouare&quot;</span>
    <span class="n">export</span> <span class="o">=</span> <span class="s1">&#39;data.txt&#39;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">,</span> <span class="mi">29382984</span><span class="p">,</span> <span class="s2">&quot;coolguy@glasdkfj.com&quot;</span><span class="p">]</span>

    <span class="n">dbman</span> <span class="o">=</span> <span class="n">DatabaseManager</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="n">ui</span> <span class="o">=</span> <span class="n">UserInterface</span><span class="p">(</span><span class="n">dbman</span><span class="p">)</span>
    <span class="n">dbman</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">ui</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">export</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">export</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">export_exists</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="n">export_exists</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">assert</span> <span class="n">export_exists</span>

    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">export</span><span class="p">)</span> <span class="c1"># clean up the file afterward</span>
</code></pre></div>
</td></tr></table>

<p>This file may vary somewhat depending on how you implemented your <code>emails</code> project. If you find your implementation cannot pass these tests because you structured your project differently, make appropriate changes so that these tests test the "add/remove" functionality of your database manager and the "export" functionality of your user interface.</p>
<h3 id="run-nose2">Run <code>nose2</code></h3>
<p>Now from the root directory of your project run the following commands:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>$ nose2
..
----------------------------------------------------------------------
Ran <span class="m">2</span> tests in <span class="m">0</span>.000s

OK
$
</code></pre></div>
</td></tr></table>

<p>If you get the above output, congratulations! Your tests all passed! </p>
<h3 id="your-assignment">Your Assignment</h3>
<p>Write more tests in separate functions to ensure that as many parts of the program are working as possible. If your tests fail, use the principles in the "Do a project" section to debug and fix those problems.  Continue using <code>nose2</code> to test your program as a whole until your program is free of bugs. Make multiple test modules to test different sub sections of your code. In each file make multiple tests that test individual units of the module. Remember that each filename must begin with "test" and each variable name must also begin with "test".</p>
<h2 id="hone-your-skills">Hone Your Skills</h2>
<ul>
<li>Use automated testing to drive your development from here on out. Write tests before you write code that do what you want the code to do. Once you have done this, write code that passes those tests.</li>
<li>Check out the documentation on <code>nose2</code> to see how you can better test your programs <a href="https://docs.nose2.io/en/latest/">here</a>.</li>
<li>Try out other automated testing packages to test your package. You can test some like <code>py.test</code> or <code>unittest</code> or find others via an internet search.</li>
</ul>
<h2 id="advanced-mastery">Advanced Mastery</h2>
<ul>
<li>Write a script that does the same thing as <code>nose</code> have it walk through all the subfolders of a folder and catch all the errors it finds and report back to the user.</li>
</ul>
<!-- Navigation -->

<hr />
<p><a href="../30-Packages-and-Project-Structure/">Previous: 30-Packages-and-Project-Structure</a> | <a href="../00-Table-of-Contents/">Table of Contents</a> | <a href="../32-Do-Another-Project/">Next: 32-Do-Another-Project</a></p>
<hr />
<!-- End Navigation -->
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../30-Packages-and-Project-Structure/" title="30. Packages and Project Structure" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                30. Packages and Project Structure
              </span>
            </div>
          </a>
        
        
          <a href="../32-Do-Another-Project/" title="32. Do Another Project" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                32. Do Another Project
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>